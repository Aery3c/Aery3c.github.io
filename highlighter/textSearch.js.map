{"version":3,"file":"textSearch.js","mappings":"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","sources":["webpack://highlighter/./node_modules/@babel/runtime/regenerator/index.js","webpack://highlighter/./src/core.js","webpack://highlighter/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://highlighter/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://highlighter/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://highlighter/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://highlighter/./src/dom/classes.js","webpack://highlighter/./src/dom/index.js","webpack://highlighter/./src/highlighter/characterRange.js","webpack://highlighter/./src/refills/index.js","webpack://highlighter/./src/highlighter/highlight.js","webpack://highlighter/./src/highlighter/eventEmitter.js","webpack://highlighter/./src/utils/index.js","webpack://highlighter/./src/utils/toType.js","webpack://highlighter/./src/utils/trie.js","webpack://highlighter/./node_modules/regenerator-runtime/runtime.js","webpack://highlighter/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://highlighter/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://highlighter/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://highlighter/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://highlighter/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://highlighter/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://highlighter/webpack/bootstrap","webpack://highlighter/webpack/runtime/compat get default export","webpack://highlighter/webpack/runtime/define property getters","webpack://highlighter/webpack/runtime/hasOwnProperty shorthand","webpack://highlighter/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://highlighter/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://highlighter/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://highlighter/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://highlighter/./src/highlighter/textSearch.js","webpack://highlighter/./example/textSearch/debounce.js","webpack://highlighter/./example/textSearch/textSearch.js"],"sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","'use strict'\n\nimport { isCharacterDataNode, getNodeIndex, getNodeLength, findClosestAncestor, insertPoint, iterateSubtree, isOrIsAncestorOf } from '@/dom';\nimport { extend } from '@/utils';\n\nconst core = {};\n\n/**\n *\n * @param {Range} range\n */\nfunction splitRangeBoundaries (range) {\n  let [sc, so, ec, eo] = [range.startContainer, range.startOffset, range.endContainer, range.endOffset];\n\n  const startSameEnd = (sc === ec);\n  if (isCharacterDataNode(ec) && eo > 0 && eo < ec.length) {\n    ec.splitText(eo);\n  }\n\n  if (isCharacterDataNode(sc) && so > 0 && so < sc.length) {\n    sc = sc.splitText(so);\n    if (startSameEnd) {\n      eo -= so;\n      ec = sc;\n    } else if (ec === sc.parentNode && eo <= getNodeIndex(sc)) {\n      eo++;\n    }\n    so = 0;\n  }\n\n  setRange(range, sc, so, ec, eo);\n}\n\n/**\n *\n * @param {Range} range\n */\nfunction setRange (range) {\n  let sc = arguments[1], so = arguments[2], ec, eo;\n  const len = getNodeLength(sc);\n\n  switch (arguments.length) {\n    case 3:\n      ec = sc;\n      eo = len;\n      break;\n    case 4:\n      ec = arguments[3];\n      eo = so;\n      break;\n    case 5:\n      ec = arguments[3];\n      eo = arguments[4];\n      break;\n  }\n\n  range.setStart(sc, so);\n  range.setEnd(ec, eo);\n}\n\n/**\n *\n * @param {Range} range\n * @param {Node} node\n */\nfunction insertNode (range, node) {\n  let nodes = [];\n  if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n    nodes = node.childNodes;\n  } else {\n    nodes = [node];\n  }\n\n  let firstNode;\n  for (let i = nodes.length, n; (n = nodes[--i]);) {\n    firstNode = insertPoint(n, range.startContainer, range.startOffset);\n  }\n\n  if (firstNode) {\n    range.setStartBefore(firstNode);\n  }\n}\n\nclass RangeIterator {\n  /**\n   *\n   * @param {Range} range\n   * @param {boolean} clonePartiallySelectedTextNodes\n   */\n  constructor(range, clonePartiallySelectedTextNodes) {\n    this.range = range;\n    this.clonePartiallySelectedTextNodes = clonePartiallySelectedTextNodes;\n\n    if (!this.range.collapsed) {\n      this.root = this.range.commonAncestorContainer;\n      this.sc = this.range.startContainer;\n      this.so = this.range.startOffset;\n      this.ec = this.range.endContainer;\n      this.eo = this.range.endOffset;\n\n      if (this.sc === this.ec && isCharacterDataNode(this.sc)) {\n        this._next = this._end = this.sc;\n      } else {\n        this._next = this.sc === this.root && !isCharacterDataNode(this.sc)\n          ? this.sc.childNodes[this.so] : findClosestAncestor(this.root, this.sc)\n\n        this._end = this.ec === this.root && !isCharacterDataNode(this.ec)\n          ? this.ec.childNodes[this.eo - 1] : findClosestAncestor(this.root, this.ec);\n      }\n    }\n\n  }\n\n  _current = null;\n  _end = null;\n  _next = null;\n\n  next () {\n    let current = this._current = this._next;\n    this._next = this._current != null && this._current !== this._end ? this._current.nextSibling : null;\n\n    // Check for partially selected text nodes\n    if (isCharacterDataNode(current) && this.clonePartiallySelectedTextNodes) {\n      // clone partially selected text nodes\n      // return cloneNode\n      if (current === this.ec) {\n        (current = current.cloneNode(true)).deleteData(this.eo, current.length - this.eo);\n      }\n\n      if (current === this.sc) {\n        (current = current.cloneNode(true)).deleteData(0, this.so);\n      }\n    }\n\n    return current;\n  }\n\n  isPartiallySelectedSubtree () {\n    return !isCharacterDataNode(this._current) &&\n      (isOrIsAncestorOf(this._current, this.sc) || isOrIsAncestorOf(this._current, this.ec));\n  }\n\n  getSubtreeIterator () {\n    const range = document.createRange(), current = this._current;\n    let startContainer = current, startOffset = 0, endContainer = current, endOffset = getNodeLength(current);\n\n    if (isOrIsAncestorOf(current, this.sc)) {\n      startContainer = this.sc;\n      startOffset = this.so;\n    }\n    if (isOrIsAncestorOf(current, this.ec)) {\n      endContainer = this.ec;\n      endOffset = this.eo;\n    }\n\n    setRange(range, startContainer, startOffset, endContainer, endOffset);\n\n    return new RangeIterator(range, this.clonePartiallySelectedTextNodes);\n  }\n}\n\n\n/**\n *\n * @param {Range} range\n * @param {number[]} [nodeTypes]\n * @param {(node: Node) => boolean} [filter]\n * @return {Node[]}\n */\nfunction getNodes (range, nodeTypes, filter) {\n  let nodes = [], regx;\n  if (nodeTypes && nodeTypes.length) {\n    regx = new RegExp(`(${nodeTypes.join('|')})$`);\n  }\n\n  iterateSubtree(new RangeIterator(range, false), (node) => {\n    if (regx && !regx.test(node.nodeType)) {\n      return;\n    }\n\n    if (typeof filter == 'function' && !filter(node)) {\n      return;\n    }\n\n    nodes.push(node);\n  });\n\n  return nodes;\n}\n\n/**\n * range (prev/next) point (last/first)\n * @param {Range} range\n * @return {Node[]}\n */\nfunction getEffectiveTextNodes (range) {\n\n  const textNodes = getNodes(range, [Node.TEXT_NODE]);\n  let start = 0, end = textNodes.length, node;\n\n  // remove invalid text nodes from left to right\n  while ((node = textNodes[start]) && !rangeSelectsAnyText(range, node)) {\n    ++start;\n  }\n\n  // remove invalid text nodes from right to left\n  while ((node = textNodes[end - 1]) && !rangeSelectsAnyText(range, node)) {\n    --end;\n  }\n\n  return textNodes.slice(start, end);\n}\n\n/**\n * Exclude empty strings selected by the range\n * @param {Range} range\n * @param {Text} textNode\n * @return {boolean}\n */\nfunction rangeSelectsAnyText(range, textNode) {\n  const textNodeRange = document.createRange();\n  textNodeRange.selectNodeContents(textNode);\n  const intersectionRange = getIntersectionRange(textNodeRange, range);\n  const text = intersectionRange ? intersectionRange.toString() : '';\n  return text !== '';\n}\n\n/**\n * Returns a boolean indicating whether the given Range intersects the Range.\n * @param {Range} rangeA\n * @param {Range} rangeB\n * @return {boolean}\n */\nfunction intersectsRange (rangeA, rangeB) {\n  // rangeA.s < rangeB.e;\n  const start = rangeA.compareBoundaryPoints(rangeB.END_TO_START, rangeB);\n  // rangeA.e > rangeB.s;\n  const end = rangeA.compareBoundaryPoints(rangeB.START_TO_END, rangeB);\n\n  return start < 0 && end > 0;\n}\n\n/**\n * Returns the part of a specified range that intersects another range\n * @param {Range} rangeA\n * @param {Range} rangeB\n * @return {Range | null}\n */\nfunction getIntersectionRange (rangeA, rangeB) {\n  if (intersectsRange(rangeA, rangeB)) {\n    const range = rangeA.cloneRange();\n    if (range.compareBoundaryPoints(rangeB.START_TO_START, rangeB) === -1) {\n      range.setStart(rangeB.startContainer, rangeB.startOffset);\n    }\n\n    if (range.compareBoundaryPoints(rangeB.END_TO_END, rangeB) === 1) {\n      range.setEnd(rangeB.endContainer, rangeB.endOffset);\n    }\n\n    return range;\n  }\n\n  return null;\n}\n\n/**\n *\n * @param {Range} rangeA\n * @param {Range} rangeB\n * @return {boolean}\n */\nfunction isEqualRange (rangeA, rangeB) {\n  if (intersectsRange(rangeA, rangeB)) {\n    return rangeA.compareBoundaryPoints(rangeB.START_TO_START, rangeB) === 0 && rangeA.compareBoundaryPoints(rangeB.END_TO_END, rangeB) === 0;\n  }\n\n  return false;\n}\n\n/**\n *\n * @param {Range} rangeA\n * @param {Range} rangeB\n * @return {boolean}\n */\nfunction isAdjoinRange (rangeA, rangeB) {\n  return rangeA.compareBoundaryPoints(rangeB.END_TO_START, rangeB) === 0 || rangeA.compareBoundaryPoints(rangeB.START_TO_END, rangeB) === 0;\n}\n\n/**\n *\n * @param {Range} rangeA\n * @param {Range} rangeB\n * @return {Range | null}\n */\nfunction unionRange (rangeA, rangeB) {\n  const range = document.createRange();\n  if (intersectsRange(rangeA, rangeB) || isAdjoinRange(rangeA, rangeB)) {\n    range.setStart(rangeA.startContainer, rangeA.startOffset);\n    range.setEnd(rangeA.endContainer, rangeA.endOffset);\n    const start = rangeA.compareBoundaryPoints(rangeB.START_TO_START, rangeB);\n    const end = rangeA.compareBoundaryPoints(rangeB.END_TO_END, rangeB);\n\n    if (start === 1) {\n      range.setStart(rangeB.startContainer, rangeB.startOffset);\n    }\n\n    if (end === -1) {\n      range.setEnd(rangeB.endContainer, rangeB.endOffset);\n    }\n\n    return range;\n  }\n\n  return null\n}\n\nRange.prototype.inspect = function () {\n  // todo\n  const sel = window.getSelection();\n  sel.removeAllRanges();\n  sel.addRange(this);\n}\n\nextend(core, {\n  splitRangeBoundaries,\n  setRange,\n  RangeIterator,\n  insertNode,\n  getNodes,\n  intersectsRange,\n  getIntersectionRange,\n  getEffectiveTextNodes,\n  isEqualRange,\n  isAdjoinRange,\n  unionRange\n});\n\nexport default core;\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","'use strict'\n\nimport { rnothtmlwhite, stripAndCollapse } from '@/utils';\n\nconst classListSupport = !(typeof document.createElement('span').classList !== 'undefined');\nconst classNameSupport = !(typeof document.createElement('span').className !== 'undefined');\n\n/**\n *\n * @param {string|Array} value\n * @return {string[]}\n */\nexport function classesToArray (value) {\n  if (Array.isArray(value)) {\n    return value;\n  }\n  if (typeof value === 'string') {\n    return value.match(rnothtmlwhite) || [];\n  }\n  return [];\n}\n\n/**\n *\n * @param {HTMLElement} el\n * @param {string} value\n */\nexport function toggleClass (el, value) {\n  const classNames = classesToArray(value);\n\n  if (classNames.length && el.nodeType === Node.ELEMENT_NODE) {\n    classNames.forEach(className => {\n      if (classListSupport) {\n        el.classList.toggle(className);\n      } else {\n        if (hasClass(el, className)) {\n          removeClass(el, className);\n        } else {\n          addClass(el, className);\n        }\n      }\n    });\n\n    return true;\n  }\n\n  return false;\n}\n\n/**\n *\n * @param {HTMLElement} el\n * @return {string}\n */\nexport function getClass (el) {\n\n  if (el.nodeType !== Node.ELEMENT_NODE) {\n    return '';\n  }\n\n  if (classNameSupport) {\n    return el.className;\n  }\n\n  return el.getAttribute('class') || '';\n}\n\n/**\n *\n * @param {HTMLElement | Node} el\n * @param {string} value\n * @return {boolean}\n */\nexport function hasClass (el, value) {\n\n  if (el.nodeType !== Node.ELEMENT_NODE) {\n    return false;\n  }\n\n  if (classListSupport) {\n    return el.classList.contains(value);\n  }\n  const classNames = classesToArray(getClass(el));\n  return classNames.indexOf(value) > -1;\n}\n\n/**\n *\n * @param {HTMLElement | Node} el\n * @param {string} value\n */\nexport function addClass (el, value) {\n\n  let classNames = classesToArray(value), curClass, cur, final;\n\n  if (classNames.length && el.nodeType === Node.ELEMENT_NODE) {\n    if (classListSupport) {\n      el.classList.add(...classNames);\n    } else {\n      curClass = getClass(el);\n      cur = ' ' + stripAndCollapse(curClass) + ' ';\n      classNames.forEach(className => {\n        if (cur.indexOf(' ' + className + ' ') < 0) {\n          cur += className + ' '\n        }\n      });\n\n      final = stripAndCollapse(cur);\n\n      if (curClass !== final) {\n        if (classNameSupport) {\n          el.className = final;\n        } else {\n          el.setAttribute('class', final);\n        }\n      }\n    }\n  }\n}\n\n/**\n *\n * @param {HTMLElement | Node} el\n * @param {string} [value]\n */\nexport function removeClass (el, value) {\n\n  let classNames = classesToArray(value), curClass, cur, final,\n    isElement = (el.nodeType === Node.ELEMENT_NODE);\n\n  if (arguments.length < 2 && isElement) {\n    return el.removeAttribute('class');\n  }\n\n  if (classNames.length && isElement) {\n    if (classListSupport) {\n      el.classList.remove(...classNames);\n    } else {\n      curClass = getClass(el);\n      cur = ' ' + stripAndCollapse(curClass) + ' ';\n      classNames.forEach(className => {\n        while (cur.indexOf(' ' + className + ' ') > -1) {\n          cur = cur.replace(' ' + className + ' ', ' ');\n        }\n      });\n\n      final = stripAndCollapse(cur);\n      if (curClass !== final) {\n        if (classNameSupport) {\n          el.className = final;\n        } else {\n          el.setAttribute('class', final);\n        }\n      }\n    }\n  }\n}\n","'use strict'\n\nimport { extend, stripAndCollapse } from '@/utils';\nimport { addClass, toggleClass, getClass, removeClass, hasClass, classesToArray } from './classes';\nconst dom = {};\n\n/**\n *\n * @param {Node} node\n * @return {*}\n */\nexport function removeNode (node) {\n  return node.parentNode.removeChild(node);\n}\n\n/**\n *\n * @param {Node | null} node\n * @return {boolean}\n */\nexport function isCharacterDataNode (node) {\n  if (!node) return false;\n  const t = node.nodeType;\n  return t === Node.TEXT_NODE || t === Node.COMMENT_NODE;\n}\n\n/**\n * the position of the node in the parent node\n * @param {Node} node\n * @return {number}\n */\nexport function getNodeIndex (node) {\n  let index = 0;\n  while ((node = node.previousSibling)) {\n    index++;\n  }\n\n  return index;\n}\n\n/**\n * The element node returns the child node length, and the text node returns the text length\n * @param {Node|Text} node\n */\nexport function getNodeLength (node) {\n  const t = node.nodeType;\n  if (t === Node.ELEMENT_NODE) {\n    return node.childNodes.length;\n  } else if (isCharacterDataNode(node)) {\n    return node.length;\n  }\n  return 0;\n}\n\n\n/**\n *\n * @param {Node} ancestor\n * @param {Node} node\n * @return {Node | null}\n */\nexport function findClosestAncestor (ancestor, node) {\n  let p;\n  while (node) {\n    p = node.parentNode;\n    if (p === ancestor) {\n      return node\n    }\n    node = p;\n  }\n\n  return null;\n}\n\n/**\n *\n * @param {Node} node\n * @param {string} className\n * @return {Node | null}\n */\nexport function findSelfOrAncestorWithClass (node, className) {\n  while (node) {\n    if (hasClass(node, className)) {\n      return node;\n    }\n    node = node.parentNode;\n  }\n  return null;\n}\n\n/**\n *\n * @param {string} selector\n * @return {HTMLElement | null}\n */\nexport function gE (selector) {\n  return document.querySelector(selector);\n}\n\n/**\n *\n * @param {Node} newNode\n * @param {Node} referenceNode\n * @return {Node}\n */\nexport function insertAfter (newNode, referenceNode) {\n  let p = referenceNode.parentNode, next = referenceNode.nextSibling;\n  if (!next) {\n    return p.appendChild(newNode);\n  } else {\n    return p.insertBefore(newNode, next);\n  }\n}\n\n/**\n *\n * @param {Node} newNode\n * @param {Node | Text} referenceNode\n * @param {number} offset\n * @return {Node}\n */\nexport function insertPoint (newNode, referenceNode, offset) {\n  if (isCharacterDataNode(referenceNode)) {\n    if (offset === referenceNode.length) {\n      insertAfter(newNode, referenceNode);\n    } else {\n      referenceNode.parentNode.insertBefore(newNode, offset === 0 ? referenceNode : referenceNode.splitText(offset));\n    }\n  } else if (offset >= referenceNode.childNodes.length) {\n    referenceNode.appendChild(newNode);\n  } else {\n    referenceNode.insertBefore(newNode, referenceNode.childNodes[offset]);\n  }\n\n  return newNode;\n}\n\n/**\n *\n * @param {Node} ancestor\n * @param {Node} descendant\n * @param {boolean} selfIsAncestor\n */\nexport function isAncestorOf (ancestor, descendant, selfIsAncestor) {\n  let n = selfIsAncestor ? descendant : descendant.parentNode;\n  while (n) {\n    if (n === ancestor) {\n      return true;\n    } else {\n      n = n.parentNode;\n    }\n  }\n  return false;\n}\n\n/**\n *\n * @param {Node} ancestor\n * @param {Node} descendant\n * @return {boolean}\n */\nexport function isOrIsAncestorOf(ancestor, descendant) {\n  return isAncestorOf(ancestor, descendant, true);\n}\n\n/**\n *\n * @param {RangeIterator} it\n * @param {(node: Node) => void} cb\n */\nexport function iterateSubtree (it, cb) {\n  let node;\n  while((node = it.next())) {\n    if (it.isPartiallySelectedSubtree()) {\n      const subIt = it.getSubtreeIterator();\n      iterateSubtree(subIt, cb);\n    } else {\n      const nit = new NodeIterator(node);\n      while((node = nit.next())) {\n        cb(node);\n      }\n    }\n  }\n}\n\n/**\n *\n * @param {Node} textNode\n * @return {boolean}\n */\nexport function isWhiteSpaceTextNode (textNode) {\n  return textNode && textNode.nodeType === Text.TEXT_NODE && stripAndCollapse(textNode.data) === '';\n}\n\n/**\n *\n * @param {Element} el\n * @param {string} propName\n */\nexport function getComputedStyleProperty(el, propName) {\n  return window.getComputedStyle(el, null).getPropertyValue(propName);\n}\n\nfunction NodeIterator(root) {\n  this.root = root;\n  this._next = root;\n}\n\nNodeIterator.prototype = {\n  _current: null,\n\n  hasNext: function() {\n    return !!this._next;\n  },\n\n  next: function() {\n    let n = this._current = this._next;\n    let child, next;\n    if (this._current) {\n      child = n.firstChild;\n      if (child) {\n        this._next = child;\n      } else {\n        next = null;\n        while ((n !== this.root) && !(next = n.nextSibling)) {\n          n = n.parentNode;\n        }\n        this._next = next;\n      }\n    }\n    return this._current;\n  },\n\n  detach: function() {\n    this._current = this._next = this.root = null;\n  }\n};\n\n/**\n *\n * @param {Selection} selection\n * @return {Range[]}\n */\nexport function getAllRange (selection) {\n  const ranges = [];\n  for (let i = 0; i < selection.rangeCount; ++i) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  return ranges;\n}\n\nexport { addClass, toggleClass, getClass, removeClass, hasClass, classesToArray }\n\nextend(dom, {\n  removeNode,\n  getNodeLength,\n  getNodeIndex,\n  gE,\n  isCharacterDataNode,\n  findClosestAncestor,\n  insertAfter,\n  addClass,\n  toggleClass,\n  getClass,\n  removeClass,\n  hasClass,\n  classesToArray,\n  insertPoint,\n  isAncestorOf,\n  isOrIsAncestorOf,\n  iterateSubtree,\n  findSelfOrAncestorWithClass,\n  getComputedStyleProperty,\n  getAllRange\n});\n\nexport default dom;\n","'use strict'\n\nimport core from '@/core';\nimport { getAllRange } from '@/dom';\n\nclass CharacterRange {\n\n  constructor(start, end, referenceNode) {\n    this.start = start;\n    this.end = end;\n    this.referenceNode = referenceNode;\n    this.isCollapsed = this.start === this.end;\n  }\n\n  isEqual (otherCharacterRange) {\n    otherCharacterRange = balanceRange(otherCharacterRange, this.referenceNode);\n    return this.start === otherCharacterRange.start && this.end === otherCharacterRange.end;\n  }\n\n  isIntersects (otherCharacterRange) {\n    otherCharacterRange = balanceRange(otherCharacterRange, this.referenceNode);\n    return this.start < otherCharacterRange.end && this.end > otherCharacterRange.start;\n  }\n\n  isAdjoin (otherCharacterRange) {\n    otherCharacterRange = balanceRange(otherCharacterRange, this.referenceNode);\n    return this.start === otherCharacterRange.end || this.end === otherCharacterRange.start\n  }\n\n  union (otherCharacterRange) {\n    otherCharacterRange = balanceRange(otherCharacterRange, this.referenceNode);\n    if (this.isIntersects(otherCharacterRange) || this.isAdjoin(otherCharacterRange)) {\n      return new CharacterRange(Math.min(this.start, otherCharacterRange.start), Math.max(this.end, otherCharacterRange.end), this.referenceNode);\n    }\n    return null\n  }\n\n  intersection (otherCharacterRange) {\n    otherCharacterRange = balanceRange(otherCharacterRange, this.referenceNode);\n    if (this.isIntersects(otherCharacterRange)) {\n      return new CharacterRange(Math.max(this.start, otherCharacterRange.start), Math.min(this.end, otherCharacterRange.end), this.referenceNode);\n    }\n\n    return null;\n  }\n\n  complementarySet (otherCharacterRange) {\n    const characterRanges = [];\n    otherCharacterRange = balanceRange(otherCharacterRange, this.referenceNode);\n\n    if (this.start < otherCharacterRange.start) {\n      characterRanges.push(new CharacterRange(this.start, otherCharacterRange.start, this.referenceNode));\n    }\n\n    if (this.end > otherCharacterRange.end) {\n      characterRanges.push(new CharacterRange(otherCharacterRange.end, this.end, this.referenceNode));\n    }\n\n    return characterRanges;\n  }\n\n  toRange () {\n    const range = document.createRange();\n    const { start, end } = this;\n    range.setStart(this.referenceNode, 0);\n    range.collapse(true);\n\n    const nodeIterator = document.createNodeIterator(this.referenceNode, NodeFilter.SHOW_TEXT);\n    let textNode, charIndex = 0, nextCharIndex;\n\n    let foundStart = false, foundEnd = false;\n    while (!foundEnd && (textNode = nodeIterator.nextNode())) {\n      nextCharIndex = charIndex + textNode.length;\n      if (!foundStart && start >= charIndex && start <= nextCharIndex) {\n        range.setStart(textNode, start - charIndex);\n        foundStart = true;\n      }\n\n      if (end >= charIndex && end <= nextCharIndex) {\n        range.setEnd(textNode, end - charIndex);\n        foundEnd = true;\n      }\n      charIndex = nextCharIndex;\n    }\n\n    return range;\n  }\n\n  /**\n   *\n   * @param {Range} range\n   * @param {Node} [referenceNode]\n   * @return {CharacterRange}\n   */\n  static fromRange (range, referenceNode) {\n    const surroundRange = range.cloneRange();\n    surroundRange.selectNodeContents(referenceNode);\n    const intersectionRange = core.getIntersectionRange(range, surroundRange);\n\n    let start = 0, end = 0;\n    if (intersectionRange) {\n      surroundRange.setEnd(intersectionRange.startContainer, intersectionRange.startOffset);\n      start = surroundRange.toString().length;\n      end = start + intersectionRange.toString().length\n    }\n\n    return new CharacterRange(start, end, referenceNode);\n  }\n\n  /**\n   *\n   * @param {Selection} selection\n   * @param {Node} [referenceNode]\n   * @return {CharacterRange[]}\n   */\n  static fromSelection (selection, referenceNode) {\n    const characterRanges = []\n    getAllRange(selection).forEach(range => {\n      characterRanges.push(CharacterRange.fromRange(range, referenceNode));\n    });\n\n    return characterRanges;\n  }\n}\n\n/**\n *\n * @param characterRange\n * @param referenceNode\n * @return {CharacterRange}\n */\nfunction balanceRange (characterRange, referenceNode) {\n  const range = characterRange.toRange();\n  return CharacterRange.fromRange(range, referenceNode);\n}\n\nexport default CharacterRange;","'use strict'\n\nimport core from '@/core';\nimport {\n  addClass,\n  findSelfOrAncestorWithClass,\n  removeNode,\n  isCharacterDataNode,\n  getNodeIndex,\n  removeClass\n} from '@/dom';\nimport { each } from '@/utils';\n\nfunction createOptions (options) {\n  const defaultOptions = {\n    tagName: 'span',\n    className: 'highlight',\n    elAttrs: {},\n    elProps: {}\n  }\n\n  each(options, (propName, propValue) => {\n    defaultOptions[propName] = propValue;\n  });\n\n  return defaultOptions;\n}\n\n/**\n * Applier Object\n */\n\nexport default class Refills {\n  constructor(options) {\n    this.options = createOptions(options);\n  }\n\n  /**\n   *\n   * @param {Range} range\n   */\n  appliesToRange (range) {\n    core.splitRangeBoundaries(range);\n\n    const textNodes = core.getEffectiveTextNodes(range);\n\n    if (textNodes.length) {\n      textNodes.forEach(textNode => {\n        if (!findSelfOrAncestorWithClass(textNode, this.options.className)) {\n          this.appliesToTextNode(textNode);\n        }\n      });\n\n      const lastTextNode = textNodes[textNodes.length - 1];\n      core.setRange(range, textNodes[0], 0, lastTextNode, lastTextNode.length);\n\n      this.normalize(textNodes, range, false);\n    }\n  }\n\n  /**\n   *\n   * @param {Range} range\n   */\n  wipeToRange (range) {\n    core.splitRangeBoundaries(range);\n\n    const textNodes = core.getEffectiveTextNodes(range);\n\n    if (textNodes.length) {\n      // split boundaries ancestor with class\n      splitBoundariesAncestorWithClass(range, this.options.className);\n      textNodes.forEach(textNode => {\n        let ancestorWithClass = findSelfOrAncestorWithClass(textNode, this.options.className);\n        if (ancestorWithClass) {\n          this.wipeToAncestor(ancestorWithClass);\n        }\n      });\n\n      const lastTextNode = textNodes[textNodes.length - 1];\n      core.setRange(range, textNodes[0], 0, lastTextNode, lastTextNode.length);\n\n      this.normalize(textNodes, range, true);\n    }\n  }\n\n  wipeToAncestor (ancestorWithClass) {\n    if (this.isEqualNode(ancestorWithClass)) {\n      let child, index = getNodeIndex(ancestorWithClass);\n      const parentNode = ancestorWithClass.parentNode;\n\n      while ((child = ancestorWithClass.firstChild)) {\n        // move children to sibling\n        moveNode(child, parentNode, index++);\n      }\n\n      removeNode(ancestorWithClass);\n    } else {\n      removeClass(ancestorWithClass, this.options.className);\n    }\n  }\n\n  /**\n   *\n   * @param {Node} textNode\n   */\n  appliesToTextNode (textNode) {\n    const parentNode = textNode.parentNode;\n    if (textNode.nodeType === Node.TEXT_NODE) {\n      const el = this.createElement();\n      parentNode.insertBefore(el, textNode);\n      el.appendChild(textNode);\n    }\n  }\n\n  /**\n   *\n   * @param {Range} range\n   */\n  isAppliedToRange (range) {\n    let textNode, textNodes = core.getEffectiveTextNodes(range);\n    if (textNodes.length) {\n      for (let i = 0; (textNode = textNodes[i++]);) {\n        if (!findSelfOrAncestorWithClass(textNode, this.options.className)) {\n          return false;\n        }\n      }\n\n      return true;\n    } else {\n      return !!findSelfOrAncestorWithClass(range.commonAncestorContainer, this.options.className);\n    }\n  }\n\n  /**\n   *\n   * @return {HTMLElement | Node}\n   */\n  createElement () {\n    const el = document.createElement(this.options.tagName);\n    addClass(el, this.options.className);\n    mapAttrs(el, this.options.elAttrs);\n    mapProps(el, this.options.elProps);\n    return el;\n  }\n\n  normalize (textNodes, range, isUndo) {\n    let firstNode = textNodes[0], lastNode = textNodes[textNodes.length - 1];\n\n    let currentMerge = null, merges = [];\n\n    let rangeStartNode = firstNode, rangeEndNode = lastNode;\n    let rangeStartOffset = 0, rangeEndOffset = lastNode.length;\n\n    textNodes.forEach(textNode => {\n      // go through each textNode and find the mergable node in front of them,\n      const precedingNode = getPrecedingMrTextNode(textNode, !isUndo, this.isEqualNode.bind(this));\n\n      if (precedingNode) {\n        // create a Merge object headed by precedingNode\n        if (currentMerge == null) {\n          currentMerge = new Merge(precedingNode);\n          merges.push(currentMerge);\n        }\n        currentMerge.textNodes.push(textNode);\n\n        if (rangeStartNode === textNode) {\n          rangeStartNode = currentMerge.textNodes[0];\n          rangeStartOffset = rangeStartNode.length;\n        }\n\n        if (rangeEndNode === textNode) {\n          rangeEndNode = currentMerge.textNodes[0];\n          rangeEndOffset = currentMerge.getLength();\n        }\n\n      } else {\n        // reset the current Merge object to create a new merge\n        currentMerge = null;\n      }\n    });\n\n    const nextNode = getNextMrTextNode(lastNode, !isUndo, this.isEqualNode.bind(this));\n\n    if (nextNode) {\n      if (currentMerge == null) {\n        currentMerge = new Merge(lastNode);\n        merges.push(currentMerge);\n      }\n      currentMerge.textNodes.push(nextNode);\n    }\n\n    if (merges.length) {\n      merges.forEach(merge => merge.start());\n\n      core.setRange(range, rangeStartNode, rangeStartOffset, rangeEndNode, rangeEndOffset);\n    }\n\n  }\n\n  isEqualNode (node) {\n    return this.createElement().cloneNode(false).isEqualNode(node.cloneNode(false));\n  }\n}\n\nconst getPrecedingMrTextNode = getter(false);\n\nconst getNextMrTextNode = getter(true);\n\nfunction getter (forward) {\n  const adjacentPropName = forward ? 'nextSibling' : 'previousSibling';\n  const position = forward ? 'firstChild' : 'lastChild';\n  return function (textNode, checkParentElement, filter) {\n\n    let adjacentNode = textNode[adjacentPropName], parentNode = textNode.parentNode;\n\n    if (adjacentNode && adjacentNode.nodeType === Node.TEXT_NODE) {\n      return adjacentNode\n    } else if (checkParentElement) {\n      adjacentNode = parentNode[adjacentPropName];\n      if (adjacentNode && adjacentNode.nodeType === Node.ELEMENT_NODE) {\n        if (filter && !filter(adjacentNode)) {\n          return null;\n        }\n        let adjacentNodeChild = adjacentNode[position];\n        if (adjacentNodeChild && adjacentNodeChild.nodeType === Node.TEXT_NODE) {\n          return adjacentNodeChild\n        }\n      }\n    }\n\n    return null\n  }\n}\n\nclass Merge {\n  /**\n   *\n   * @param {Node | Text} node\n   */\n  constructor(node) {\n    this.firstTextNode = node.nodeType === Node.ELEMENT_NODE ? node.firstChild : node;\n    this.textNodes = [this.firstTextNode];\n  }\n\n  start () {\n    const textParts = [];\n    this.textNodes.forEach((textNode, index) => {\n      const parentNode = textNode.parentNode;\n      if (index > 0) {\n        removeNode(textNode);\n        if (!parentNode.hasChildNodes()) {\n          removeNode(parentNode);\n        }\n      }\n      textParts.push(textNode.data);\n    });\n\n    this.firstTextNode.data = textParts.join('');\n    return this.firstTextNode.data;\n  }\n\n  getLength () {\n    let len = 0;\n    this.textNodes.forEach(textNode => {\n      len += textNode.length;\n    });\n    return len;\n  }\n}\n\nfunction mapAttrs (el, attrs) {\n  each(attrs, function (attrName, attrValue) {\n    if (Object.hasOwn(attrs, attrName) && !/^class(?:Name)?$/i.test(attrName)) {\n      el.setAttribute(attrName, attrValue);\n    }\n  });\n}\n\nfunction mapProps (el, props) {\n  each(props, function (propName, propValue) {\n    if (Object.hasOwn(props, propName)) {\n      if (propName === 'className') {\n        addClass(el, propValue);\n      } else {\n        el[propName] = propValue;\n      }\n    }\n  });\n}\n\nfunction splitBoundariesAncestorWithClass (range, className) {\n  [{ node: range.endContainer, offset: range.endOffset }, { node: range.startContainer, offset: range.startOffset }]\n    .forEach(({ node, offset }) => {\n      const ancestorWithClass = findSelfOrAncestorWithClass(node, className);\n      if (ancestorWithClass) {\n        splitNodeAt(ancestorWithClass, node, offset);\n      }\n    });\n}\n\n/**\n *\n * @param {Node} ancestor\n * @param {Node | Text} descendant\n * @param {number} descendantOffset\n */\nexport function splitNodeAt (ancestor, descendant, descendantOffset) {\n\n  let newNode, splitAtStart = (descendantOffset === 0);\n\n  if (isCharacterDataNode(descendant)) {\n    let index = getNodeIndex(descendant);\n\n    if (descendantOffset === 0) {\n      descendantOffset = index;\n    } else if (descendantOffset === descendant.data.length) {\n      descendantOffset = index + 1;\n    }\n    descendant = descendant.parentNode;\n  }\n\n  if (isSplitPoint(descendant, descendantOffset)) {\n    // clone empty node\n    newNode = descendant.cloneNode(false);\n    if (newNode.hasAttribute('id')) {\n      newNode.removeAttribute('id');\n    }\n    let child, newIndex = 0;\n    while ((child = descendant.childNodes[descendantOffset])) {\n      // move child to newNode\n      moveNode(child, newNode, newIndex++);\n    }\n    // move newNode to parentNode\n    moveNode(newNode, descendant.parentNode, getNodeIndex(descendant) + 1);\n  } else if (ancestor !== descendant) {\n    newNode = descendant.parentNode;\n\n    // Work out a new split point in the parent node\n    let newNodeIndex = getNodeIndex(descendant);\n\n    if (!splitAtStart) {\n      newNodeIndex++;\n    }\n    return splitNodeAt(ancestor, newNode, newNodeIndex);\n  }\n}\n\nfunction moveNode (node, newNode, newIndex) {\n  if (newIndex === -1) {\n    newIndex = newNode.childNodes.length;\n  }\n\n  if (newIndex === newNode.childNodes.length) {\n    newNode.appendChild(node);\n  } else {\n    newNode.insertBefore(node, newNode.childNodes[newIndex]);\n  }\n}\n\nfunction isSplitPoint(node, offset) {\n  // Node.TEXT_NODE\n  if (isCharacterDataNode(node)) {\n    if (offset === 0) {\n      return !!node.previousSibling;\n    } else if (offset === node.length) {\n      return !!node.nextSibling;\n    } else {\n      return true;\n    }\n  }\n\n  // Node.ELEMENT_NODE\n  return offset > 0 && offset < node.childNodes.length;\n}","'use strict'\n\nimport core from '@/core';\n\nclass Highlight {\n  constructor(characterRange, refills) {\n    this.characterRange = characterRange;\n    this.refills = refills;\n    this.applied = false;\n  }\n\n  on() {\n    this.range = this.characterRange.toRange();\n    this.refills.appliesToRange(this.range);\n    this.applied = true;\n  }\n\n  off () {\n    this.range = this.characterRange.toRange();\n    this.refills.wipeToRange(this.range);\n    this.applied = false;\n  }\n\n  intersectsNode(node) {\n    const range = document.createRange();\n    range.selectNodeContents(node);\n\n    return core.intersectsRange(this.characterRange.toRange(), range);\n  }\n\n  _inspect () {\n    inspect(this);\n  }\n\n}\n\nfunction inspect (highlight) {\n  const characterRange = highlight.characterRange;\n  const range = characterRange.toRange(), characterText = range.toString();\n\n  console.log('{');\n  console.log('  commonAncestor:', range.commonAncestorContainer);\n  console.log(`  characterText: %c${characterText}`, consoleStyle);\n  console.log(`  characterRange: { start: ${characterRange.start}, end: ${characterRange.end} }`);\n  console.log(`  applied:`, highlight.applied);\n  console.log('}');\n}\n\nconst consoleStyle = [\n  'background: rgb(254, 232, 195)',\n  'color: rgb(51, 51, 51)',\n  'border: 1px solid #ccc',\n  'border-radius: 4px',\n  'padding: 2px'\n].join(';');\n\nexport default Highlight;","'use strict'\n\nconst apply = Function.prototype.apply, call = Function.prototype.call;\n\nclass EventEmitter {\n  constructor() {\n    this.__events__ = {};\n  }\n\n  on (type, listener) {\n    const data = this.__events__;\n    if (!data[type]) data[type] = listener;\n    else if (typeof data[type] === 'object') data[type].push(listener);\n    else data[type] = [data[type], listener];\n\n    return this;\n  }\n\n  once (type, listener) {\n    let once, self;\n\n    self = this;\n    self.on.call(this, type, once = function () {\n      self.off.call(self, type, once);\n      apply.call(listener, self, arguments);\n    });\n\n    once.__eeOnceListener__ = listener;\n    return this;\n  }\n\n  off (type, listener) {\n    const data = this.__events__;\n    if (!data[type]) return this;\n\n    const listeners = data[type];\n\n    if (typeof listeners === 'object') {\n      for (let i = 0, candidate; (candidate = listeners[i]); ++i) {\n        if ((candidate === listener) ||\n          (candidate.__eeOnceListener__ === listener)) {\n          if (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n          else listeners.splice(i, 1);\n        }\n      }\n    } else {\n      if ((listeners === listener) ||\n        (listeners.__eeOnceListener__ === listener)) {\n        delete data[type];\n      }\n    }\n\n    return this;\n  }\n\n  emit (type) {\n    let listeners = this.__events__[type];\n    if (!listeners) return;\n\n    let l, args, i;\n\n    if (typeof listeners === 'object') {\n      l = arguments.length;\n      args = new Array(l - 1);\n      for (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n      listeners = listeners.slice();\n      for (let i = 0, listener; (listener = listeners[i]); ++i) {\n        apply.call(listener, this, args);\n      }\n    } else {\n      switch (arguments.length) {\n        case 1:\n          call.call(listeners, this);\n          break;\n        case 2:\n          call.call(listeners, this, arguments[1]);\n          break;\n        case 3:\n          call.call(listeners, this, arguments[1], arguments[2]);\n          break;\n        default:\n          l = arguments.length;\n          args = new Array(l - 1);\n          for (i = 1; i < l; ++i) {\n            args[i - 1] = arguments[i];\n          }\n          apply.call(listeners, this, args);\n      }\n    }\n  }\n}\n\nexport default EventEmitter;","'use strict'\n\nimport toType from './toType';\nimport Trie from './trie';\n\nconst utils = {};\n\nexport function extend () {\n  let options, name, src, copy, copyIsArray, clone,\n    target = arguments[0] || {},\n    i = 1,\n    length = arguments.length,\n    deep = false;\n\n  if (typeof target === 'boolean') {\n    deep = target;\n\n    target = arguments[i] || {};\n    i++;\n  }\n\n  if (typeof target !== 'object' && typeof target !== 'function') {\n    target = {};\n  }\n\n  if (i === length) {\n    target = this;\n    i--;\n  }\n\n  for (; i < length; i++) {\n\n    if ((options = arguments[i] ) != null) {\n\n      for (name in options) {\n        copy = options[ name ];\n\n        if (name === '__proto__' || target === copy) {\n          continue;\n        }\n\n        if (deep && copy && (isPlainObject(copy) ||\n          (copyIsArray = Array.isArray(copy)))) {\n          src = target[name];\n\n          if (copyIsArray && !Array.isArray(src)) {\n            clone = [];\n          } else if (!copyIsArray && !isPlainObject(src)) {\n            clone = {};\n          } else {\n            clone = src;\n          }\n          copyIsArray = false;\n\n          target[name] = extend(deep, clone, copy);\n\n        } else if (copy !== undefined) {\n          target[name] = copy;\n        }\n      }\n    }\n  }\n\n  return target;\n}\n\nexport function isPlainObject (obj) {\n  let proto, Ctor;\n\n  if (!obj || toString.call(obj) !== '[object Object]') {\n    return false;\n  }\n\n  proto = Object.getPrototypeOf(obj);\n\n  if (!proto) {\n    return true;\n  }\n\n  Ctor = {}.hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor === 'function' && {}.hasOwnProperty.toString.call(Ctor) === {}.hasOwnProperty.toString.call(Object);\n}\n\nexport const rnothtmlwhite = /[^\\x20\\t\\r\\n\\f]+/g;\n\nexport function stripAndCollapse( value ) {\n  const tokens = value.match(rnothtmlwhite) || [];\n  return tokens.join(' ');\n}\n\nexport function each (obj, callback) {\n  for (let i in obj) {\n    if (callback.call(obj[i], i, obj[i]) === false) {\n      break;\n    }\n  }\n\n  return obj;\n}\n\nexport {\n  toType,\n  Trie\n}\n\nextend(utils, {\n  extend,\n  isPlainObject,\n  stripAndCollapse,\n  rnothtmlwhite,\n  toType,\n  each,\n  Trie\n});\n\nexport default utils;\n","'use strict'\n\nconst class2type = {};\nconst toString = class2type.toString;\n\n['Object', 'Array', 'Function', 'Date', 'RegExp'].forEach(function (type) {\n  class2type[`[object ${type}]`] = type.toLowerCase();\n});\n\nfunction toType(obj) {\n  if (obj == null) {\n    return obj + '';\n  }\n\n  return typeof obj === 'object' ?\n    class2type[toString.call(obj)] || 'object' :\n    typeof obj;\n}\n\nexport default toType;","/**\n * js implementation of Trie\n *\n * The root node contains no characters, and every node except the root node contains only one character.\n *\n * From the root node to a node, the characters passing through the path are concatenated, which is the corresponding string of the node;\n *\n * All children of each node contain different characters.\n */\n'use strict'\n\nclass TrieNode {\n  /**\n   *\n   * @param {string} char\n   */\n  constructor(char) {\n    this.char = char;\n    this.isEnd = false;\n    this.children = {};\n  }\n}\n\nclass Trie {\n  constructor() {\n    this.root = new TrieNode('');\n  }\n\n  /**\n   *\n   * @param {string} word\n   */\n  addWord (word) {\n    let current = this.root, next;\n\n    for (const char of word) {\n      next = current.children[char];\n      if (!next) {\n        current.children[char] = next = new TrieNode(char);\n      }\n      current = next;\n    }\n\n    current.isEnd = true;\n  }\n\n  /**\n   *\n   * @param {string} word\n   * @return {boolean}\n   */\n  search (word) {\n    let current = this.root;\n\n    for (const char of word) {\n      if (!current.children[char]) {\n        return false\n      }\n      current = current.children[char];\n    }\n\n    return current.isEnd;\n  }\n\n  /**\n   *\n   * @param {string} word\n   * @return {boolean}\n   */\n  startsWith (word) {\n    let current = this.root;\n\n    for (const char of word) {\n      if (!current.children[char]) {\n        return false\n      }\n\n      current = current.children[char];\n    }\n\n    return containsWords(current);\n  }\n\n  /**\n   *\n   * @param {string} word\n   */\n  removeWord (word) {\n    let current = this.root;\n    const hierarchy = [current];\n    const words = [];\n\n    for (let piece of word) {\n      words.unshift(piece);\n      if (!current.children[piece]) {\n        return;\n      }\n\n      current = current.children[piece];\n      hierarchy.unshift(current);\n    }\n\n    current.isEnd = false;\n\n    for (let j = 0; j < hierarchy.length; j++) {\n      if (Object.keys(hierarchy[j].children).length > 0 || hierarchy[j].isEnd) {\n        break;\n      }\n\n      if (j + 1 < hierarchy.length) {\n        delete hierarchy[j + 1].children[words[j]];\n      }\n    }\n  }\n\n}\n\n/**\n *\n * @param {TrieNode} node\n * @return {boolean}\n */\nfunction containsWords (node) {\n  if (node.isEnd) {\n    return true;\n  }\n\n  for (const key in node.children) {\n    if (Object.hasOwn(node.children, key)) {\n      if (containsWords(node.children[key])) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\nexport default Trie;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","/**\n * string query tool, He has a trie inside\n *\n */\n\n/**\n * @typedef {{ children: {}, isRoot?: boolean, isEnd: boolean, pre: TrieNode, length: number; }} TrieNode\n *\n */\n\n'use strict';\n\nimport Trie from '@/utils/trie';\nimport toType from '@/utils/toType';\n\nclass Position {\n  constructor(start, end, string) {\n    this.start = start;\n    this.end = end;\n    this.string = string;\n  }\n}\n\nexport default class TextSearch {\n  constructor () {\n    this.trie = new Trie();\n  }\n\n  /**\n   * building trie\n   * @param {string[] | string} words\n   */\n  setup (words) {\n    const trie = this.trie, root = trie.root;\n    words = toType(words) === 'array' ? words : [words];\n\n    for (let word of words) {\n      if (!trie.search(word)) {\n        trie.addWord(word);\n      }\n    }\n\n    const tmpQueue = [];\n\n    root.isRoot = true;\n    root.length = 0;\n    const setQueue = node => {\n      for (const key in node.children) {\n        node.children[key].length = node.length + 1;\n        node.children[key].pre = node;\n        tmpQueue.push(node.children[key]);\n      }\n\n      if (tmpQueue.length) {\n        setQueue(tmpQueue.shift());\n      }\n    }\n\n    setQueue(root);\n  }\n\n  /**\n   *\n   * @param {string} str\n   * @return {Position[]}\n   */\n  find (str) {\n    let node = this.trie.root, results = [], result;\n    for (const [i, char] of str.split('').entries()) {\n      node = this._findNodeOfChar(node, char);\n      result = this._getPosition(node, i, str);\n      if (result) {\n        results.push(result);\n      }\n    }\n\n    return results;\n  }\n\n  /**\n   *\n   * @param {TrieNode} node\n   * @param {string} char\n   * @return {TrieNode}\n   * @private\n   */\n  _findNodeOfChar (node, char) {\n    if (node.children[char]) {\n      return node.children[char];\n    }\n\n    if (node.isRoot) {\n      return this.trie.root;\n    }\n    return this._findNodeOfChar(node.pre, char);\n  }\n\n  /**\n   *\n   * @param {TrieNode} node\n   * @param {number} pos\n   * @param {string} str\n   * @return {Position | null}\n   * @private\n   */\n  _getPosition (node, pos, str) {\n    if (node.isEnd) {\n      const start = pos - node.length + 1;\n      const end = pos + 1;\n      const string = str.substring(start, end);\n      return new Position(start, end, string);\n    }\n\n    return null\n  }\n}\n","'use strict'\n\nexport default function debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  }\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n}","/**\n * A text search demo simulates browser command + f\n */\n\n'use strict'\n\nimport { Refills, dom } from '@';\nimport TextSearch from '@/highlighter/textSearch';\nimport CharacterRange from '@/highlighter/characterRange';\nimport debounce from './debounce';\n\nconst textSearch = new TextSearch(), yellow = new Refills(), orange = new Refills({ className: 'orange' });\n\n/**\n *\n * @param {string} text\n * @param {Node} referenceNode\n */\nfunction getCharacterRanges (text, referenceNode) {\n  textSearch.setup(text);\n  return textSearch.find(referenceNode.textContent).filter(pos => pos.string === text).map(pos => {\n    return new CharacterRange(pos.start, pos.end, referenceNode);\n  });\n}\n\nfunction* characterMarker (text, referenceNode) {\n  let count = 0, results = getCharacterRanges(text, referenceNode);\n  while (results.length) {\n    yield results[count++];\n    if (count === results.length) {\n      count = 0;\n    }\n  }\n}\n\nconst el = dom.gE('#input'), container = document.body;\nlet gen, ranges = [], c = null;\n\nel.addEventListener('input', debounce(function (e) {\n  let r;\n  while ((r = ranges.pop())) {\n    yellow.wipeToRange(r.toRange());\n  }\n\n  if (c) {\n    orange.wipeToRange(c.toRange());\n    c = null;\n  }\n\n  const value = e.target.value;\n  if (value) {\n    gen = characterMarker(value, container);\n    const s = getCharacterRanges(value, container);\n    s.forEach(cr => {\n      yellow.appliesToRange(cr.toRange());\n      ranges.push(cr);\n    });\n  }\n\n}, 200));\n\nel.addEventListener('keyup', debounce(function (e) {\n  if (e.keyCode === 13) {\n    if (c) {\n      orange.wipeToRange(c.toRange());\n    }\n\n    const value = e.target.value;\n    if (value) {\n      c = gen.next().value;\n      orange.appliesToRange(c.toRange());\n    }\n  }\n}, 100));\n"],"names":["module","exports","core","setRange","range","ec","eo","sc","arguments","so","len","getNodeLength","length","setStart","setEnd","RangeIterator","clonePartiallySelectedTextNodes","this","collapsed","root","commonAncestorContainer","startContainer","startOffset","endContainer","endOffset","isCharacterDataNode","_next","_end","findClosestAncestor","childNodes","current","_current","nextSibling","cloneNode","deleteData","isOrIsAncestorOf","document","createRange","getNodes","nodeTypes","filter","regx","nodes","RegExp","join","iterateSubtree","node","test","nodeType","push","rangeSelectsAnyText","textNode","textNodeRange","selectNodeContents","intersectionRange","getIntersectionRange","toString","intersectsRange","rangeA","rangeB","start","compareBoundaryPoints","END_TO_START","end","START_TO_END","cloneRange","START_TO_START","END_TO_END","isAdjoinRange","Range","prototype","inspect","sel","window","getSelection","removeAllRanges","addRange","extend","splitRangeBoundaries","startSameEnd","splitText","parentNode","getNodeIndex","insertNode","firstNode","n","i","Node","DOCUMENT_FRAGMENT_NODE","insertPoint","setStartBefore","getEffectiveTextNodes","textNodes","TEXT_NODE","slice","isEqualRange","unionRange","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError","classListSupport","createElement","classList","classNameSupport","className","classesToArray","value","match","rnothtmlwhite","getClass","el","ELEMENT_NODE","getAttribute","hasClass","contains","indexOf","addClass","curClass","cur","final","classNames","add","stripAndCollapse","forEach","setAttribute","removeClass","isElement","removeAttribute","remove","replace","dom","removeNode","removeChild","t","COMMENT_NODE","index","previousSibling","ancestor","p","findSelfOrAncestorWithClass","insertAfter","newNode","referenceNode","next","insertBefore","appendChild","offset","isAncestorOf","descendant","selfIsAncestor","it","cb","isPartiallySelectedSubtree","getSubtreeIterator","nit","NodeIterator","getAllRange","selection","ranges","rangeCount","getRangeAt","hasNext","child","firstChild","detach","gE","selector","querySelector","toggleClass","toggle","getComputedStyleProperty","propName","getComputedStyle","getPropertyValue","CharacterRange","isCollapsed","otherCharacterRange","balanceRange","isIntersects","isAdjoin","Math","min","max","characterRanges","collapse","nextCharIndex","nodeIterator","createNodeIterator","NodeFilter","SHOW_TEXT","charIndex","foundStart","foundEnd","nextNode","surroundRange","fromRange","characterRange","toRange","Refills","options","defaultOptions","tagName","elAttrs","elProps","each","propValue","createOptions","appliesToTextNode","lastTextNode","normalize","ancestorWithClass","splitNodeAt","splitBoundariesAncestorWithClass","wipeToAncestor","isEqualNode","moveNode","attrs","attrName","attrValue","Object","hasOwn","mapAttrs","props","mapProps","isUndo","lastNode","currentMerge","merges","rangeStartNode","rangeEndNode","rangeStartOffset","rangeEndOffset","precedingNode","getPrecedingMrTextNode","bind","Merge","getLength","getNextMrTextNode","merge","getter","forward","adjacentPropName","position","checkParentElement","adjacentNode","adjacentNodeChild","firstTextNode","textParts","hasChildNodes","data","descendantOffset","splitAtStart","hasAttribute","newIndex","newNodeIndex","Function","apply","call","name","src","copy","copyIsArray","clone","target","deep","isPlainObject","undefined","obj","proto","Ctor","getPrototypeOf","hasOwnProperty","constructor","callback","toType","Trie","class2type","type","toLowerCase","TrieNode","char","isEnd","children","containsWords","key","word","hierarchy","words","piece","unshift","j","keys","runtime","Op","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","GenStateSuspendedStart","method","arg","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","done","GenStateSuspendedYield","makeInvokeMethod","fn","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","resolve","reject","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","Promise","object","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","_arrayLikeToArray","arr2","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","_defineProperty","_typeof","_unsupportedIterableToArray","o","minLen","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","__esModule","d","a","definition","get","prop","_slicedToArray","_i","_s","_e","_arr","_n","_d","Position","string","TextSearch","trie","search","addWord","tmpQueue","isRoot","setQueue","pre","shift","str","results","split","entries","_findNodeOfChar","_getPosition","pos","substring","debounce","func","wait","immediate","timeout","args","timestamp","later","last","Date","now","setTimeout","debounced","callNow","clear","clearTimeout","flush","characterMarker","textSearch","yellow","orange","getCharacterRanges","text","setup","find","textContent","map","count","gen","container","body","c","addEventListener","e","r","wipeToRange","cr","appliesToRange","keyCode"],"sourceRoot":""}